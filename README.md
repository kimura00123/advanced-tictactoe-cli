# 高度なCUI版〇×ゲーム（5×5）

このプロジェクトは、コマンドラインで遊べる高度な〇×ゲーム（五目並べ）です。通常の3×3ボードではなく、5×5のより複雑なボードで遊ぶことができます。

![ゲームイメージ](https://via.placeholder.com/600x400?text=TicTacToe+5x5+CLI+Game)

## 特徴

- 美しいCUIインターフェース
- 5×5の大型ボード
- 勝利条件：4つ駒を一列に並べる
- 複数の難易度レベル（初級、中級、上級、達人）
- ミニマックスアルゴリズムを使用した高度なAI
- ゲームの保存・読み込み機能
- プレイヤー対CPUモード
- プレイヤー対プレイヤーモード
- オンラインマルチプレイヤーモード (実験的機能)
- 詳細な統計情報
- Jest による単体テスト

## インストール方法

```bash
# リポジトリのクローン
git clone https://github.com/kimura00123/advanced-tictactoe-cli.git
cd advanced-tictactoe-cli

# 依存関係のインストール
npm install

# グローバルインストール（オプション）
npm install -g .
```

## 遊び方

```bash
# 通常起動
npm start

# グローバルインストール時
tictactoe
```

コマンドを実行し、画面の指示に従ってゲームを楽しんでください。

## ゲームルール

1. プレイヤーは交互に盤面に駒を置きます
2. 縦、横、斜めのいずれかの方向に4つの同じ駒が並ぶと勝利
3. 盤面が埋まっても勝者がいない場合は引き分け

## ゲームモード

- **シングルプレイヤー**: CPUと対戦
- **マルチプレイヤー**: 同じコンピュータでの二人プレイ
- **オンラインマルチプレイヤー** (実験的): ネットワーク経由での対戦

## 難易度レベル

- **初級**: ランダムな手を打つAI
- **中級**: 基本的な戦略で相手の勝利を妨害するAI
- **上級**: ミニマックスアルゴリズムを使用した高度なAI（3手先まで読む）
- **達人**: ミニマックスアルゴリズムと評価関数を使用した最強のAI（4手先まで読む）

## コマンド一覧

ゲーム中に以下のコマンドを入力できます：

- `save`: 現在のゲームを保存
- `load`: 保存したゲームを読み込む
- `hint`: 次の手のヒントを表示
- `stats`: 現在の統計情報を表示
- `quit`: ゲームを終了

## 開発者向け情報

### プロジェクト構造

```
advanced-tictactoe-cli/
├── index.js             # エントリーポイント
├── package.json         # プロジェクト設定
├── jest.config.js       # テスト設定
├── README.md            # プロジェクト説明
├── .gitignore           # Git除外ファイル設定
├── src/                 # ソースコードディレクトリ
│   ├── Board.js         # ゲームボード管理
│   ├── AI.js            # AIプレイヤーロジック
│   ├── UI.js            # ユーザーインターフェース
│   ├── Game.js          # ゲームメインロジック
│   ├── GameStorage.js   # ゲーム保存・読み込み
│   └── NetworkGame.js   # オンラインモード
└── __tests__/           # テストディレクトリ
    ├── Board.test.js    # ボードクラステスト
    ├── AI.test.js       # AIクラステスト
    ├── GameStorage.test.js # ストレージクラステスト
    └── testUtils.js     # テストユーティリティ
```

### テスト実行

```bash
# すべてのテストを実行
npm test

# テストカバレッジレポートを生成
npm run test:coverage

# 監視モードでテストを実行
npm run test:watch
```

### テクニカルノート

- **AIアルゴリズム**: ミニマックスアルゴリズムとアルファベータ枝刈りを実装
- **モジュラーアーキテクチャ**: 各機能をクラスに分割し、責任を明確に
- **テスト可能な設計**: 依存性注入によりテスト容易性を確保
- **ネットワーク機能**: P2P接続のシミュレーション（実際の実装は将来のバージョンで）

## 今後の機能予定

- 完全なオンラインマルチプレイヤーモード
- AIの学習機能
- カスタムボードテーマ
- リプレイ機能
- ゲーム履歴の可視化

## ライセンス

MIT
